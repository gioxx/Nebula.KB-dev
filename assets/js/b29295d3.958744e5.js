"use strict";(globalThis.webpackChunknebula=globalThis.webpackChunknebula||[]).push([[259],{7587(e,o,l){l.r(o),l.d(o,{assets:()=>a,contentTitle:()=>n,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Log/usage/more-examples","title":"More examples","description":"Practical recipes that show common ways to use Nebula.Log.","source":"@site/docs/Log/usage/more-examples.md","sourceDirName":"Log/usage","slug":"/Log/usage/more-examples","permalink":"/Nebula.KB-dev/Nebula/Log/usage/more-examples","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Nebula.Log","permalink":"/Nebula.KB-dev/Nebula/tags/nebula-log"},{"inline":true,"label":"Examples","permalink":"/Nebula.KB-dev/Nebula/tags/examples"},{"inline":true,"label":"Log","permalink":"/Nebula.KB-dev/Nebula/tags/log"}],"version":"current","sidebarPosition":50,"frontMatter":{"sidebar_position":50,"title":"More examples","description":"Practical recipes that show common ways to use Nebula.Log.","hide_title":true,"id":"more-examples","tags":["Nebula.Log","Examples","Log"]},"sidebar":"tutorialSidebar","previous":{"title":"Write-Log","permalink":"/Nebula.KB-dev/Nebula/Log/usage/write-log"},"next":{"title":"Scripts","permalink":"/Nebula.KB-dev/Nebula/Scripts"}}');var t=l(4848),r=l(8453);const s={sidebar_position:50,title:"More examples",description:"Practical recipes that show common ways to use Nebula.Log.",hide_title:!0,id:"more-examples",tags:["Nebula.Log","Examples","Log"]},n="More examples",a={},c=[{value:"Script bootstrap",id:"script-bootstrap",level:2},{value:"JSON-friendly logging",id:"json-friendly-logging",level:2},{value:"Rotating smaller files",id:"rotating-smaller-files",level:2},{value:"Colorized console without files",id:"colorized-console-without-files",level:2},{value:"Confirm the log path resolves as expected",id:"confirm-the-log-path-resolves-as-expected",level:2},{value:"Pre-flight log check",id:"pre-flight-log-check",level:2}];function g(e){const o={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"more-examples",children:"More examples"})}),"\n",(0,t.jsx)(o.p,{children:"Practical recipes that show common ways to use Nebula.Log."}),"\n",(0,t.jsx)(o.h2,{id:"script-bootstrap",children:"Script bootstrap"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'param(\n    [string]$LogDir = "C:\\Logs\\MyJob"\n)\n\nWrite-Log -LogLocation $LogDir -Message "Job started" -Level INFO -WriteToFile\n\ntry {\n    # ... your work here ...\n    Write-Log -LogLocation $LogDir -Message "Job completed" -Level SUCCESS -WriteToFile\n}\ncatch {\n    Write-Log -LogLocation $LogDir -Message "Job failed: $_" -Level ERROR -WriteToFile\n    throw\n}\n'})}),"\n",(0,t.jsx)(o.h2,{id:"json-friendly-logging",children:"JSON-friendly logging"}),"\n",(0,t.jsx)(o.p,{children:"For ingestion in tools that expect JSON Lines:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'Write-Log -LogLocation "C:\\Logs\\Api" `\n          -Message "POST /orders accepted" `\n          -Level INFO `\n          -AsJson -WriteToFile -WriteOnlyToFile\n'})}),"\n",(0,t.jsx)(o.h2,{id:"rotating-smaller-files",children:"Rotating smaller files"}),"\n",(0,t.jsx)(o.p,{children:"Keep files small by lowering the threshold:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'$common = @{ LogLocation = "C:\\Logs\\Service"; LogFileName = "service.log"; WriteToFile = $true }\n\nWrite-Log @common -Message "Starting" -Level INFO -MaxFileSizeKB 64\nWrite-Log @common -Message "Tick" -Level DEBUG -MaxFileSizeKB 64\n'})}),"\n",(0,t.jsx)(o.h2,{id:"colorized-console-without-files",children:"Colorized console without files"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'Write-Log -Message "Heads up: cache warming" -Level WARNING -Color\nWrite-Log -Message "All good" -Level SUCCESS -Color\nWrite-Log -Message "Failed to connect" -Level ERROR -Color\n'})}),"\n",(0,t.jsx)(o.h2,{id:"confirm-the-log-path-resolves-as-expected",children:"Confirm the log path resolves as expected"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'# Called from inside a script file\nWrite-Log -Message "Check target folder" -Level DEBUG -WriteToFile\n\n# If you prefer an explicit folder\nWrite-Log -LogLocation "D:\\Logs\\Explicit" -Message "Forced path" -Level INFO -WriteToFile\n'})}),"\n",(0,t.jsx)(o.h2,{id:"pre-flight-log-check",children:"Pre-flight log check"}),"\n",(0,t.jsx)(o.p,{children:"Detect a bad or locked log file before a long-running job:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-powershell",children:'$check = Test-ActivityLog -LogLocation "C:\\Logs\\Nightly" -TryFix\nif ($check.Status -ne \'OK\') {\n    throw "Cannot write to $($check.Path): $($check.Error)"\n}\n'})})]})}function d(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},8453(e,o,l){l.d(o,{R:()=>s,x:()=>n});var i=l(6540);const t={},r=i.createContext(t);function s(e){const o=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function n(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),i.createElement(r.Provider,{value:o},e.children)}}}]);