"use strict";(globalThis.webpackChunknebula=globalThis.webpackChunknebula||[]).push([[6826],{7777(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"M365/m365-tenant-checker","title":"Microsoft 365 Tenant Checker","description":"Quickly verify whether a domain belongs to a Microsoft 365 tenant, via API and minimal web UI.","source":"@site/Projects/M365/m365-tenant-checker.md","sourceDirName":"M365","slug":"/M365/m365-tenant-checker","permalink":"/Nebula.KB-dev/Projects/M365/m365-tenant-checker","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"Projects","permalink":"/Nebula.KB-dev/Projects/tags/projects"},{"inline":true,"label":"Microsoft 365","permalink":"/Nebula.KB-dev/Projects/tags/microsoft-365"},{"inline":true,"label":"Tenant Checker","permalink":"/Nebula.KB-dev/Projects/tags/tenant-checker"}],"version":"current","sidebarPosition":2,"frontMatter":{"id":"m365-tenant-checker","title":"Microsoft 365 Tenant Checker","description":"Quickly verify whether a domain belongs to a Microsoft 365 tenant, via API and minimal web UI.","sidebar_position":2,"tags":["Projects","Microsoft 365","Tenant Checker"]},"sidebar":"projectsSidebar","previous":{"title":"IntuneWinAppUtil GUI","permalink":"/Nebula.KB-dev/Projects/M365/intunewinapputilgui"}}');var i=t(4848),c=t(8453);const s={id:"m365-tenant-checker",title:"Microsoft 365 Tenant Checker",description:"Quickly verify whether a domain belongs to a Microsoft 365 tenant, via API and minimal web UI.",sidebar_position:2,tags:["Projects","Microsoft 365","Tenant Checker"]},o="Microsoft 365 Tenant Checker",l={},d=[{value:"Demo and repository",id:"demo-and-repository",level:2},{value:"Key features",id:"key-features",level:2},{value:"Architecture at a glance",id:"architecture-at-a-glance",level:2},{value:"API",id:"api",level:2},{value:"Quick start",id:"quick-start",level:2},{value:"Docker (recommended)",id:"docker-recommended",level:3},{value:"Docker Compose (single service)",id:"docker-compose-single-service",level:3},{value:"Local run (no Docker)",id:"local-run-no-docker",level:3},{value:"Render.com",id:"rendercom",level:3},{value:"Repository structure",id:"repository-structure",level:2},{value:"Operational notes",id:"operational-notes",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"microsoft-365-tenant-checker",children:"Microsoft 365 Tenant Checker"})}),"\n",(0,i.jsx)(n.p,{children:"Small Flask-based utility that queries Microsoft's Autodiscover endpoint to determine if a domain is tied to a Microsoft 365 tenant (Exchange Online, Teams, etc.). It exposes a JSON API and a lightweight HTML page, ready for Docker or Render.com deployment."}),"\n",(0,i.jsx)(n.h2,{id:"demo-and-repository",children:"Demo and repository"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Live demo: ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"https://m365-tenant-checker.onrender.com",children:"https://m365-tenant-checker.onrender.com"})})]}),"\n",(0,i.jsxs)(n.li,{children:["Source code: ",(0,i.jsx)(n.a,{href:"https://github.com/gioxx/m365-tenant-checker",children:"github.com/gioxx/m365-tenant-checker"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"key-features",children:"Key features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\ud83d\udd0e Instant domain check against Autodiscover.\n-, REST API: ",(0,i.jsx)(n.code,{children:"GET /check?domain=example.com"})," returning JSON."]}),"\n",(0,i.jsx)(n.li,{children:"\ud83c\udf10 Minimal web interface with Light/Dark toggle."}),"\n",(0,i.jsxs)(n.li,{children:["\ud83d\udc33 Public Docker image (",(0,i.jsx)(n.code,{children:"ghcr.io/gioxx/m365-tenant-checker:latest"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:["\u2601\ufe0f Render.com-ready via ",(0,i.jsx)(n.code,{children:"gunicorn"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"architecture-at-a-glance",children:"Architecture at a glance"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Backend"})," (",(0,i.jsx)(n.code,{children:"backend/app.py"}),"): Flask serves ",(0,i.jsx)(n.code,{children:"/check"})," and the static page. It issues a ",(0,i.jsx)(n.code,{children:"GET"})," to ",(0,i.jsx)(n.code,{children:"https://autodiscover-s.outlook.com/autodiscover/autodiscover.json?Email=test@<domain>&Protocol=Autodiscoverv1"})," with a 5s timeout."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Frontend"})," (",(0,i.jsx)(n.code,{children:"frontend/index.html"}),"): Single input form, fetches ",(0,i.jsx)(n.code,{children:"/check"}),", shows textual feedback, includes a theme toggle."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Container"})," (",(0,i.jsx)(n.code,{children:"Dockerfile"}),"): Python slim image, installs ",(0,i.jsx)(n.code,{children:"Flask"}),", ",(0,i.jsx)(n.code,{children:"requests"}),", ",(0,i.jsx)(n.code,{children:"flask-cors"}),", ",(0,i.jsx)(n.code,{children:"gunicorn"}),"; exposes ",(0,i.jsx)(n.code,{children:":5000"})," and starts ",(0,i.jsx)(n.code,{children:"gunicorn backend.app:app"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Procfile"}),": ",(0,i.jsx)(n.code,{children:"web: gunicorn backend.app:app"})," for Render.com."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Endpoint"}),": ",(0,i.jsx)(n.code,{children:"GET /check?domain=<domain>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parameter"}),": ",(0,i.jsx)(n.code,{children:"domain"})," (required). Missing parameter \u2192 ",(0,i.jsx)(n.code,{children:"400 Bad Request"}),"."]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Typical responses"})}),"\n"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"right"},children:"HTTP"}),(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"found"}),(0,i.jsx)(n.th,{children:"message"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"200"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"true"}),(0,i.jsx)(n.td,{children:"Domain associated with M365; redirect URL returned when available."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"200"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"true"}),(0,i.jsx)(n.td,{children:"Domain replied 200 but without URL / invalid JSON."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"404"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"false"}),(0,i.jsx)(n.td,{children:"Domain is not associated with Microsoft 365."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"400"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"null"}),(0,i.jsxs)(n.td,{children:["Protocol error (missing ",(0,i.jsx)(n.code,{children:"Protocol=Autodiscoverv1"}),") or malformed request."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"right"},children:"500"}),(0,i.jsx)(n.td,{style:{textAlign:"center"},children:"null"}),(0,i.jsx)(n.td,{children:"Internal error / timeout toward Autodiscover."})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl "http://localhost:5000/check?domain=contoso.com"\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "domain": "contoso.com",\n  "status": 200,\n  "found": true,\n  "message": "Domain is associated with Microsoft 365. Redirect URL: https://outlook.office365.com/autodiscover/autodiscover.xml"\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"quick-start",children:"Quick start"}),"\n",(0,i.jsx)(n.h3,{id:"docker-recommended",children:"Docker (recommended)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker pull ghcr.io/gioxx/m365-tenant-checker:latest\ndocker run -p 5000:5000 ghcr.io/gioxx/m365-tenant-checker:latest\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Open ",(0,i.jsx)(n.code,{children:"http://localhost:5000"})," for the UI, or call ",(0,i.jsx)(n.code,{children:"/check"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"docker-compose-single-service",children:"Docker Compose (single service)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"compose.yaml"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'services:\n  m365-tenant-checker:\n    image: ghcr.io/gioxx/m365-tenant-checker:latest\n    ports:\n      - "5000:5000"\n    restart: unless-stopped\n'})}),"\n",(0,i.jsx)(n.p,{children:"Run it:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose up -d\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Browse ",(0,i.jsx)(n.code,{children:"http://localhost:5000"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"local-run-no-docker",children:"Local run (no Docker)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"python -m venv .venv\nsource .venv/bin/activate  # on Windows: .venv\\Scripts\\activate\npip install -r backend/requirements.txt\ngunicorn backend.app:app --bind 0.0.0.0:5000\n# dev alternative: flask --app backend.app run --host 0.0.0.0 --port 5000\n"})}),"\n",(0,i.jsx)(n.h3,{id:"rendercom",children:"Render.com"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Create a ",(0,i.jsx)(n.strong,{children:"Web Service"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Connect the GitHub repo."}),"\n",(0,i.jsxs)(n.li,{children:["Set: Build Command empty; Start Command ",(0,i.jsx)(n.code,{children:"gunicorn backend.app:app"}),"; Runtime Python 3; Instance Type ",(0,i.jsx)(n.em,{children:"Free"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Deploy."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"repository-structure",children:"Repository structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"m365-tenant-checker/\n\u251c\u2500\u2500 backend/\n\u2502   \u251c\u2500\u2500 app.py              # /check endpoint and static serving\n\u2502   \u2514\u2500\u2500 requirements.txt\n\u251c\u2500\u2500 frontend/\n\u2502   \u2514\u2500\u2500 index.html          # Minimal UI with theme toggle\n\u251c\u2500\u2500 Dockerfile              # Image published to ghcr.io\n\u251c\u2500\u2500 Procfile                # Render.com startup\n\u251c\u2500\u2500 README.md / README-IT.md\n\u2514\u2500\u2500 LICENSE\n"})}),"\n",(0,i.jsx)(n.h2,{id:"operational-notes",children:"Operational notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"No authentication or rate limiting: place behind a reverse proxy if exposed publicly."}),"\n",(0,i.jsxs)(n.li,{children:["Backend uses ",(0,i.jsx)(n.code,{children:"requests"})," with a 5s timeout; network issues return ",(0,i.jsx)(n.code,{children:"500"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["HTML is served directly by Flask (",(0,i.jsx)(n.code,{children:"/"}),"), so no separate static server is required."]}),"\n",(0,i.jsxs)(n.li,{children:["Dockerfile currently uses Python ",(0,i.jsx)(n.strong,{children:"3.15 slim"}),"; pin to an LTS version if needed for production."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,n,t){t.d(n,{R:()=>s,x:()=>o});var r=t(6540);const i={},c=r.createContext(i);function s(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);